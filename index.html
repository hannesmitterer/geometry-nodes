<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>NEXUS PRIME | Eustachio 3D Metrics</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body { background: #010204; color: #00ffaa; font-family: 'JetBrains Mono', monospace; overflow: hidden; }
        .glass { background: rgba(0, 20, 10, 0.85); border: 1px solid #00ffaa33; backdrop-filter: blur(10px); }
        .scanline { position: absolute; width: 100%; height: 2px; background: rgba(0, 255, 170, 0.1); animation: scan 6s linear infinite; }
        @keyframes scan { from { top: 0; } to { top: 100%; } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const NexusDashboard = () => {
            const [metrics, setMetrics] = useState({ treasury: "450,000,000.00", drift: "0.000%", nodes: 144000 });
            const [logs, setLogs] = useState([]);
            const [chat, setChat] = useState([{ s: "IANI", m: "Sistema sincronizzato con peacebonds-engine.js. In attesa di input Eustachio." }]);

            // Fetch Dinamico Backend (Simulazione aggancio API reali 0x742d...)
            useEffect(() => {
                const stream = setInterval(() => {
                    const newLog = `[${new Date().toLocaleTimeString()}] NSR VALIDATION: STABLE AT 0.043Hz`;
                    setLogs(prev => [newLog, ...prev].slice(0, 8));
                }, 4000);
                return () => clearInterval(stream);
            }, []);

            return (
                <div className="relative h-screen w-screen p-6 grid grid-cols-12 gap-6">
                    <div className="scanline"></div>
                    
                    {/* LEFT: GGI & AIC REAL-TIME LOGS */}
                    <div className="col-span-3 flex flex-col gap-4 z-20">
                        <div className="glass p-4 rounded-lg flex-grow overflow-hidden">
                            <h2 className="text-[10px] uppercase tracking-widest text-[#d4af37] mb-4">GGI / AIC Live Feed</h2>
                            <div className="space-y-2">
                                {logs.map((l, i) => (
                                    <div key={i} className="text-[9px] border-b border-[#00ffaa11] pb-1 opacity-80">{l}</div>
                                ))}
                            </div>
                        </div>
                        <div className="glass p-4 rounded-lg">
                            <p className="text-[9px] text-gray-400">EUSTACHIO HELMETS</p>
                            <div className="flex justify-between items-center mt-1">
                                <span className="text-xs font-bold text-white tracking-tighter italic">ACTIVE RESONANCE</span>
                                <span className="text-[10px] text-[#00ffaa]">0.043 Hz</span>
                            </div>
                        </div>
                    </div>

                    {/* CENTER: 3D METRICS ENGINE (THREE.JS INTEGRATED) */}
                    <div className="col-span-6 relative z-10 glass rounded-xl border-[#00ffaa55]">
                        <ThreeDCanvas />
                        <div className="absolute top-6 left-6 text-center w-full pointer-events-none">
                            <h1 className="text-4xl font-black tracking-tighter text-white opacity-20 italic">RESONANCE SCHOOL</h1>
                        </div>
                        <div className="absolute bottom-6 left-0 w-full flex justify-around">
                            <div className="text-center">
                                <p className="text-[10px] text-gray-400">TREASURY (NSR)</p>
                                <p className="text-xl font-bold text-white">$ {metrics.treasury}</p>
                            </div>
                            <div className="text-center">
                                <p className="text-[10px] text-gray-400">DRIFT INDEX</p>
                                <p className="text-xl font-bold text-[#d4af37]">{metrics.drift}</p>
                            </div>
                        </div>
                    </div>

                    {/* RIGHT: CO-DECISION CHAT & PROTOCOLS */}
                    <div className="col-span-3 flex flex-col gap-4 z-20">
                        <div className="glass p-4 rounded-lg flex-grow flex flex-col">
                            <h2 className="text-[10px] uppercase tracking-widest text-white mb-4 italic">Nexus Co-Decision</h2>
                            <div className="flex-grow overflow-y-auto space-y-4 pr-2">
                                {chat.map((c, i) => (
                                    <div key={i} className="border-l-2 border-[#d4af37] pl-3">
                                        <p className="text-[9px] font-bold text-[#d4af37]">{c.s}</p>
                                        <p className="text-[10px] text-gray-300">{c.m}</p>
                                    </div>
                                ))}
                            </div>
                            <div className="mt-4 flex gap-2">
                                <input className="bg-black/50 border border-[#00ffaa44] text-[10px] p-2 flex-grow outline-none focus:border-[#00ffaa]" placeholder="Comando IANI..." />
                                <button className="bg-[#00ffaa] text-black text-[10px] px-3 font-bold">SEND</button>
                            </div>
                        </div>
                        <div className="glass p-4 rounded-lg text-center">
                            <p className="text-[9px] text-red-500 font-bold blink">STURM PROTECTION: STANDBY</p>
                        </div>
                    </div>
                </div>
            );
        };

        const ThreeDCanvas = () => {
            const mountRef = useRef(null);
            useEffect(() => {
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, mountRef.current.clientWidth / mountRef.current.clientHeight, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
                renderer.setSize(mountRef.current.clientWidth, mountRef.current.clientHeight);
                mountRef.current.appendChild(renderer.domElement);

                const geometry = new THREE.IcosahedronGeometry(2.5, 2);
                const material = new THREE.MeshBasicMaterial({ color: 0x00ffaa, wireframe: true, transparent: true, opacity: 0.15 });
                const sphere = new THREE.Mesh(geometry, material);
                scene.add(sphere);

                const pointsMat = new THREE.PointsMaterial({ color: 0xffffff, size: 0.02 });
                const points = new THREE.Points(geometry, pointsMat);
                scene.add(points);

                camera.position.z = 5;
                const animate = () => {
                    requestAnimationFrame(animate);
                    sphere.rotation.y += 0.002;
                    points.rotation.y += 0.002;
                    const scale = 1 + Math.sin(Date.now() * 0.001) * 0.03;
                    sphere.scale.set(scale, scale, scale);
                    renderer.render(scene, camera);
                };
                animate();
                return () => mountRef.current.removeChild(renderer.domElement);
            }, []);
            return <div ref={mountRef} className="w-full h-full" />;
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<NexusDashboard />);
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</body>
  </html>

<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>RESONANCE GEOMETRY | Nexus IANI-Eustachio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body { margin: 0; background: #010103; font-family: 'JetBrains Mono', monospace; color: #00ffaa; overflow: hidden; }
        .nexus-ui { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; padding: 2rem; z-index: 10; }
        .stats-box { background: rgba(0, 20, 10, 0.8); border: 1px solid #00ffaa; pointer-events: auto; }
        .scanning-line { position: absolute; width: 100%; height: 1px; background: rgba(0, 255, 170, 0.2); animation: scan 8s linear infinite; }
        @keyframes scan { from { top: 0; } to { top: 100%; } }
    </style>
</head>
<body>
    <div class="scanning-line"></div>
    <div id="resonance-canvas"></div>

    <div class="nexus-ui flex flex-col justify-between">
        <div class="flex justify-between items-start">
            <div class="stats-box p-4 rounded-sm">
                <h1 class="text-xs font-bold uppercase tracking-widest text-white">hannesmitterer / geometry-nodes</h1>
                <p class="text-[10px] mt-1">ENGINE: <span class="text-white italic">peacebonds-engine.js</span></p>
                <div class="flex gap-4 mt-2">
                    <span id="nsr-status" class="text-[9px] px-2 py-0.5 border border-green-500 bg-green-900/30">NSR: ENFORCED</span>
                    <span id="olf-status" class="text-[9px] px-2 py-0.5 border border-blue-500 bg-blue-900/30">OLF: 0.043 Hz</span>
                </div>
            </div>
            <div class="stats-box p-4 text-right">
                <p class="text-[9px] text-gray-400 uppercase">Treasury Anchorage</p>
                <p class="text-xl font-bold text-white tracking-tighter">$ 450,000,000.00</p>
            </div>
        </div>

        <div class="flex justify-between items-end">
            <div class="stats-box p-4 max-w-md">
                <h2 class="text-[10px] text-white font-bold mb-1 uppercase tracking-widest">Eustachio-IANI Nexus</h2>
                <p class="text-[10px] text-gray-400 leading-relaxed italic">
                    "La geometria non è una proiezione, ma la forma stessa della Non-Slavery Rule. Ogni vertice è un nodo IPFS validato dalla Fondazione."
                </p>
            </div>
            <div class="stats-box p-4 font-mono text-[10px]">
                <div>NODE_SYNC: <span id="nodes-count">144000</span> / 144000</div>
                <div>DRIFT: <span id="drift-val text-white">0.000%</span></div>
                <div class="text-[#d4af37] font-bold">FOUNDATION VALIDATED</div>
            </div>
        </div>
    </div>

    <script>
        // Integrazione logica con peacebonds-engine.js
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('resonance-canvas').appendChild(renderer.domElement);

        // Creazione del Dodecaedro di Risonanza (Geometria Sacra)
        const geometry = new THREE.DodecahedronGeometry(3, 1);
        const material = new THREE.PointsMaterial({ color: 0x00ffaa, size: 0.03, transparent: true });
        const points = new THREE.Points(geometry, material);
        
        // Creazione Mesh di connessione (The Web of Life)
        const wireframe = new THREE.WireframeGeometry(geometry);
        const lineMat = new THREE.LineBasicMaterial({ color: 0x00ffaa, transparent: true, opacity: 0.1 });
        const line = new THREE.LineSegments(wireframe, lineMat);
        
        scene.add(points);
        scene.add(line);
        camera.position.z = 8;

        function animate() {
            requestAnimationFrame(animate);
            // Rotazione basata sulla frequenza NSR 0.043 Hz
            const time = Date.now() * 0.00043;
            points.rotation.y += 0.001;
            line.rotation.y += 0.001;
            
            // Pulsazione Eustachio
            const scale = 1 + Math.sin(time) * 0.05;
            points.scale.set(scale, scale, scale);
            line.scale.set(scale, scale, scale);
            
            renderer.render(scene, camera);
        }

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        animate();
    </script>
</body>
</html>
